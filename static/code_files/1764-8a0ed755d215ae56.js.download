"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1764],{3075:(e,t,n)=>{n.d(t,{I_:()=>p,aF:()=>h,s_:()=>g,vW:()=>f,yl:()=>v});var a=n(2348),r=n(54568),s=n(59922),i=n(62515),l=n(72902),o=n(39214),c=n(7620),d=n(23812);function u(){let e=(0,a._)(['\n  fixed\n  z-modal\n  inset-0\n  grid\n  items-center\n  justify-items-center\n  bg-black\n  overflow-y-auto\n  md:p-10\n  p-4\n  [background-color:rgba(0,0,0,var(--modal-overlay-opacity,0.5))]\n  backdrop-brightness-75\n  data-[state="open"]:[animation:fade_var(--modal-animation-duration,250ms)_ease-out_forwards]\n  data-[state="closed"]:[animation:fade_var(--modal-close-duration,125ms)_ease-in_reverse_forwards]\n']);return u=function(){return e},e}function m(){let e=(0,a._)(['\n  flex\n  flex-col\n  focus:outline-none\n  relative\n  text-text-100\n  text-left\n  shadow-xl\n  border-0.5\n  border-border-300\n  rounded-2xl\n  md:p-6\n  p-4\n  align-middle\n  data-[state="open"]:[animation:zoom_var(--modal-animation-duration,250ms)_ease-out_forwards]\n  data-[state="closed"]:[animation:zoom_var(--modal-close-duration,125ms)_ease-in_reverse_forwards]\n']);return m=function(){return e},e}function f(e){let{children:t,layout:n="right",className:a}=e;return(0,r.jsx)("div",{className:(0,l.A)("mt-4 flex flex-col gap-2","left"===n&&"sm:flex-row","center"===n&&"justify-center sm:flex-row","right"===n&&"sm:flex-row justify-end","between"===n&&"justify-between sm:flex-row",a),children:t})}function v(e){let{...t}=e;return(0,r.jsx)(d.$,{...t})}function g(e){let{onClose:t}=e;return(0,r.jsx)(d.$,{size:"icon_sm",variant:"ghost",className:"!text-text-500 hover:!text-text-400 -mx-2",onClick:()=>t(),children:(0,r.jsx)(i.X,{size:16})})}function h(e){return(0,r.jsx)(x,{...e})}function p(e){return(0,r.jsx)(x,{unstyled:!0,...e})}function x(e){let{title:t,subtitle:n,isOpen:a,className:s,children:i,onClose:d,icon:u,modalSize:m="md",backgroundColor:f,autoCloseOnFocusOut:v=!0,closeOnEscapeKeydown:h=!0,fullWidth:p=!0,fullHeight:x,hasCloseButton:j=!1,prependBeforeCloseButton:A,overlayChildren:w,overlayClassName:C,autoFocusOnOpen:S=!0,returnFocusOnClose:_=!0,unstyled:N=!1,animationDuration:M=250,overlayOpacity:L=.5}=e,[I,E]=(0,c.useState)(!1),z=(0,c.useRef)(null),D=(0,c.useRef)(null);(0,c.useEffect)(()=>{E(!0)},[]),(0,c.useEffect)(()=>{a&&_&&(z.current=document.activeElement)},[a,_]),(0,c.useEffect)(()=>{if(!a&&_&&z.current){let e=z.current,t=null!==e.getAttribute("data-radix-dropdown-menu-trigger")||null!==e.closest("[data-radix-dropdown-menu-trigger]"),n=document.contains(e)&&null!==e.offsetParent&&"hidden"!==getComputedStyle(e).visibility,a=setTimeout(()=>{if(!t&&n){var e;null==(e=z.current)||e.focus()}z.current=null},50);return()=>clearTimeout(a)}},[a,_]);let T=e=>{v||e.preventDefault()},k=e=>{e.stopPropagation(),h||e.preventDefault()},[O,F]=(0,c.useState)(!1),R=Math.ceil(M/2);return((0,c.useEffect)(()=>{if(a)F(!0);else{let e=window.setTimeout(()=>{F(!1)},R),t=setTimeout(()=>{document.body.style.pointerEvents="auto"},M+100);return()=>{window.clearTimeout(e),window.clearTimeout(t)}}},[a,M,R]),I)?(0,r.jsx)(o.bL,{open:a,onOpenChange:e=>{e||d()},children:O&&(0,r.jsx)(o.ZL,{forceMount:!0,children:(0,r.jsxs)(y,{forceMount:!0,className:C,style:{"--modal-animation-duration":"".concat(M,"ms"),"--modal-close-duration":"".concat(R,"ms"),"--modal-overlay-opacity":L},children:[N?(0,r.jsx)(o.UC,{forceMount:!0,ref:D,onOpenAutoFocus:e=>{S||e.preventDefault()},onInteractOutside:T,onEscapeKeyDown:k,className:s,children:i}):(0,r.jsx)(b,{forceMount:!0,ref:D,onOpenAutoFocus:e=>{S||e.preventDefault()},onInteractOutside:T,onEscapeKeyDown:k,style:{"--modal-animation-duration":"".concat(M,"ms"),"--modal-close-duration":"".concat(R,"ms")},className:(0,l.A)("min-w-0",s,p&&"w-full",x&&"h-full","sm"===m&&"max-w-sm","md"===m&&"max-w-md","lg"===m&&"max-w-lg","2lg"===m&&"max-w-xl","xl"===m&&"max-w-3xl","2xl"===m&&"max-w-5xl","3xl"===m&&"max-w-6xl",null!=f?f:"bg-bg-100"),children:(0,r.jsxs)("div",{className:(0,l.A)("min-h-full",!!(t||A||j||n)&&"flex flex-col",x&&"w-full h-full"),children:[!!(t||A||j)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,l.A)("flex items-center gap-4",t?"justify-between":"justify-end"),children:[t&&(0,r.jsxs)(o.hE,{className:"font-xl-bold text-text-100 flex w-full min-w-0 items-center leading-6 break-words",children:[u&&(0,r.jsx)("span",{className:"mr-2",children:u}),(0,r.jsx)("span",{className:"[overflow-wrap:anywhere]",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[A,j&&(0,r.jsx)(g,{onClose:d})]})]})}),n&&(0,r.jsx)("div",{className:"text-text-300 mb-2 text-sm",children:n}),i]})}),w]})})}):null}let y=(0,s.J)(o.hJ)(u()),b=(0,s.J)(o.UC)(m())},3217:(e,t,n)=>{n.d(t,{u:()=>h});var a=n(54568),r=n(64328),s=n(23812),i=n(79155),l=n(3075),o=n(67453),c=n(2e3),d=n(85524),u=n(7620),m=n(10369),f=n(59666),v=n(22167),g=n(20746);function h(e){let{type:t,onClose:n}=e,i=(0,r.mV)(),o=(0,m.A)(),{mutate:d,isPending:h}=(0,v.xc)({onSuccess:n}),[x,y]=(0,u.useState)(!1),b=(0,g.xI)(t);return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:i?o.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:b}):o.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:b}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:b}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),t===c.v8.GITHUB&&(0,a.jsx)(p,{shouldDeleteOnDisable:x,setShouldDeleteOnDisable:y}),(0,a.jsxs)(l.vW,{children:[(0,a.jsx)(s.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(s.$,{loading:h,onClick:()=>{d({type:t,enabled:!1,should_delete_on_disable:x}),n()},variant:"danger",children:x?(0,a.jsx)(f.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,a.jsx)(f.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function p(e){let{shouldDeleteOnDisable:t,setShouldDeleteOnDisable:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,a.jsx)(i.f,{checkState:t?"checked":"unchecked",onClick:e=>{let{didCheck:t}=e;return n(t)},label:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-200",children:(0,a.jsx)(f.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,a.jsx)(o.Tooltip,{tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,a.jsx)(d.R,{className:"text-text-400"})})]})})}),t&&(0,a.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,a.jsxs)("ul",{className:"text-sm list-disc",children:[(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},5924:(e,t,n)=>{n.d(t,{Qp:()=>u,eF:()=>d,w5:()=>c});var a=n(1613),r=n(64328),s=n(68067),i=n(65315),l=n(4869),o=n(27541);let c=()=>(0,s.fS)("fiddlehead"),d=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=c(),s=(0,i.wc)(),{data:l,isFetched:d}=(0,a.Sk)("/api/oauth/organizations/".concat(t,"/oauth_tokens"),{enabled:!!(t&&n),staleTime:3e5}),u=(0,o.useSearchParams)().get("debug_fiddlehead_auth_override"),m=s[i.me],f=m&&(null==l?void 0:l.some(e=>e.application_name===m));return{isAuthenticated:null!==u?"1"===u:f,isFetched:d,initAuth:()=>{window.open(s[i.vf],"_blank")}}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,s=c(),i=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/fiddlehead/disconnect_and_delete_all"),"POST",{enabled:!!(t&&s),...e,onSuccess:function(){for(var t,a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];i.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(n,"/oauth_tokens")]}),null==(t=e.onSuccess)||t.call(e,...r)}})}},7133:(e,t,n)=>{n.d(t,{S:()=>c});var a=n(54568),r=n(23812),s=n(3075),i=n(7620),l=n(59666),o=n(84543);function c(e){var t;let{platform:n,onClose:c,onSubmit:d,loading:u}=e,[m,f]=(0,i.useState)(n.issuer),[v,g]=(0,i.useState)(n.client_id),[h,p]=(0,i.useState)((null==(t=n.deployment_ids)?void 0:t[0])||""),x=!m.trim()||!v.trim()||!h.trim();return(0,a.jsx)(s.aF,{isOpen:!0,onClose:c,modalSize:"xl",title:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(l.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,a.jsx)(l.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x||d(n.id,m.trim().replace(/\/$/,""),v.trim(),h.trim())},className:"flex flex-col",children:[(0,a.jsx)(o.E,{domain:m,setDomain:f,clientId:v,setClientId:g,deploymentId:h,setDeploymentId:p}),(0,a.jsxs)(s.vW,{children:[(0,a.jsx)(r.$,{type:"submit",loading:u,disabled:x,children:(0,a.jsx)(l.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,a.jsx)(r.$,{variant:"secondary",onClick:c,children:(0,a.jsx)(l.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},18050:(e,t,n)=>{n.d(t,{AI:()=>c,I5:()=>d,n0:()=>o,qp:()=>u,so:()=>m});var a=n(1613),r=n(64328),s=n(80688);n(2e3);var i=n(4869);n(7620);var l=n(22167);let o=e=>{let{uri:t}=e,{data:n,isLoading:i}=(e=>{let{documentId:t}=e,{account:n,activeOrganization:i}=(0,r.YL)(),l=null==n?void 0:n.uuid,o=null==i?void 0:i.uuid,d=c();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/mcp/outline/document/").concat(t),{queryKey:[s.hq,{accountUUID:l,orgUuid:o,documentId:t}],enabled:d})})({documentId:t});return{title:null==n?void 0:n.title,isLoading:i}},c=()=>{let{data:e}=(0,l.LN)();return!1},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,r.YL)(),i=null==n?void 0:n.uuid,l=c(),{data:o,refetch:d}=(0,a.Sk)("/api/organizations/".concat(i,"/sync/mcp/outline/auth"),{queryKey:[s.iP,{accountUUID:null==t?void 0:t.uuid,orgUuid:i}],enabled:!!(n&&l),staleTime:5e3}),{mutate:u,isPending:m}=(0,a.L2)("/api/organizations/".concat(i,"/sync/mcp/outline/auth/start"),"POST",{enabled:!!(n&&l),...e,onSuccess:function(){for(var t,n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];null==(t=e.onSuccess)||t.call(e,...a)}});return{isOutlineAuthenticated:!!(null==o?void 0:o.is_authenticated),refetch:d,initOutlineAuth:u,isLoadingOutlineAuthInit:m}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,r.YL)(),l=null==t?void 0:t.uuid,o=null==n?void 0:n.uuid,d=c(),u=(0,i.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(o,"/sync/mcp/outline/auth"),"DELETE",{enabled:!!(n&&d),...e,onSuccess:function(){for(var t,n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];u.invalidateQueries({queryKey:[s.iP,{accountUUID:l,orgUuid:o}]}),null==(t=e.onSuccess)||t.call(e,...a)}})},m=()=>{let e=encodeURIComponent(window.location.href);window.location.href="/settings/connectors?redirect_url=".concat(e,"&open_outline_auth=true")}},20746:(e,t,n)=>{n.d(t,{ak:()=>l,cO:()=>s,lX:()=>o,xI:()=>i});var a=n(2e3),r=n(65315);let s="settings",i=e=>a.sb[e]||e,l=()=>{let e=(0,r.wc)();return t=>t===a.v8.FIDDLEHEAD&&e[r.Wj]?e[r.Wj]:t===a.v8.CUTTLEFISH&&e[r.in]?e[r.in]:a.sb[t]||t};function o(e,t){var n;return(null==(n=e.server)?void 0:n.type)==="remote"&&t(e.server)}},26819:(e,t,n)=>{n.d(t,{E:()=>s});var a=n(54568),r=n(72902);let s=e=>{let{color:t="default",size:n="default",children:s,className:i,uppercase:l}=e;return(0,a.jsx)("div",{className:(0,r.$)("inline-flex items-center align-middle leading-none flex-shrink-0","default"===t&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===t&&"bg-bg-500/40 text-text-200","secondary"===t&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===t&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===t&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","danger"===t&&"bg-danger-900 text-danger-200","default"===n&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===n&&"h-4 px-1 rounded text-[0.625rem]","lg"===n&&"h-6 px-2 rounded-lg text-xs",l&&"uppercase",i),children:s})}},34498:(e,t,n)=>{n.d(t,{R:()=>l});var a=n(54568),r=n(7620),s=n(23812),i=n(3075);let l=(0,r.memo)(e=>{let{isOpen:t,onClose:n,onConfirm:l,title:o,message:c,confirmText:d="Confirm",cancelText:u="Cancel",variant:m="primary",isLoading:f,disabled:v=!1,autoFocus:g=!0,testId:h,children:p,size:x="sm"}=e,[y,b]=(0,r.useState)(!1),j=null!=f?f:y,A=(0,r.useCallback)(async()=>{if(!v&&!j){b(!0);try{let e=l();e&&"function"==typeof e.then&&await e,n()}finally{b(!1)}}},[l,n,v,j]),w=(0,r.useCallback)(()=>{j||n()},[n,j]);return(0,a.jsxs)(i.aF,{isOpen:t,onClose:w,title:o,modalSize:x,closeOnEscapeKeydown:!j,children:[(0,a.jsxs)("div",{className:"mt-1 mb-2",children:[c&&(0,a.jsx)("div",{className:"text-text-300 whitespace-pre-line",children:c}),p]}),(0,a.jsxs)(i.vW,{children:[(0,a.jsx)(s.$,{variant:"secondary",onClick:w,disabled:j,children:u}),(0,a.jsx)(s.$,{variant:"danger"===m?"danger":"primary",onClick:A,disabled:v||j,loading:j,autoFocus:g,"data-testid":h||"confirmation-modal-confirm",children:d})]})]})});l.displayName="ConfirmationModal"},36016:(e,t,n)=>{n.d(t,{tn:()=>j,nB:()=>h,rW:()=>p,bo:()=>A,Cq:()=>x,b4:()=>y,yL:()=>b});var a=n(1613),r=n(64328),s=n(80688),i=n(68067),l=n(2e3),o=n(28044),c=n(4869),d=n(27541),u=n(7620),m=n(3111),f=n(22167),v=n(40459);let g="github_success",h=function(){var e;let{callerIdentifier:t,toggleGithubModalOpen:n,fetchImmediately:i=!1,pathname:l,queryString:c,shouldRedirectToDesktopApp:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:h}=(0,r.YL)(),p=null==h?void 0:h.uuid,y=x(),[b,j]=(0,u.useState)(i),A=(e=>{let{shouldFetch:t=!1}=e,{activeOrganization:n}=(0,r.YL)(),i=null==n?void 0:n.uuid,l=x();return(0,a.Sk)("/api/organizations/".concat(i,"/sync/github/auth"),{queryKey:[s.Hv,{orgUuid:i}],enabled:!!(t&&n&&l)})})({shouldFetch:b}),w=(0,u.useCallback)(async function(){var e,t;let{forceRefetch:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!b||n?(j(!0),null==(e=(await A.refetch()).data)?void 0:e.is_authenticated):null==(t=A.data)?void 0:t.is_authenticated},[A,b]),{mutate:C}=(0,a.L2)("/api/organizations/".concat(p,"/sync/github/auth/start"),"POST",{enabled:!!(h&&y),onSuccess:e=>{if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return!1;try{if(!e.startsWith("http://")&&!e.startsWith("https://"))return!1;let n=new URL(e);return"https:"===n.protocol&&t.some(e=>n.hostname===e||n.hostname.endsWith(".".concat(e)))}catch(e){return!1}}(e.redirect_url,["github.com"]))window.location.href=e.redirect_url;else throw Error("Invalid redirect URL received from auth endpoint")}}),S="".concat(g,"=").concat(t).concat(c?"&".concat(c):"");(0,f.FZ)({callerIdentifier:t,successParam:g,handleOpen:()=>{null==n||n(!0)}});let _=(0,d.useSearchParams)(),N=(0,o.V)(),M=(0,u.useRef)(!1),L=(0,d.usePathname)(),I=(0,m.d)({pathname:l||L,searchParams:_,queryString:S,shouldOpenInClaudeApp:N||!!v});return{checkIsGithubAuthenticated:w,initGithubAuth:()=>{if(y){if(N)return void window.open("/settings/connectors?open_in_browser=1&auth_start=github&origin=".concat(I));M.current||(M.current=!0,C({pre_auth_state:{origin:I}}))}},isGithubAuthenticated:null==(e=A.data)?void 0:e.is_authenticated,isLoading:A.isLoading}},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,i=x(),l=(0,c.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/sync/github/auth"),"DELETE",{enabled:!!(t&&i),...e,onSuccess:function(){for(var t,a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];l.invalidateQueries({queryKey:[s.Hv,{orgUuid:n}]}),null==(t=e.onSuccess)||t.call(e,...r)}})},x=()=>{let{data:e}=(0,f.LN)(),t=(0,r.mV)(),n=!!(Array.isArray(e)&&e.find(e=>e.type===l.v8.GITHUB&&e.enabled));return!!(!v.env.NEXT_PUBLIC_DISABLE_GITHUB_INTEGRATION&&(!t||n))},y=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=x();return(0,a.Sk)("/api/organizations/".concat(t,"/sync/github/repos"),{queryKey:[s.jL,{orgUuid:t}],enabled:!!(e&&n),meta:{noToast:!0}})},b=function(){let{skipStatus:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,s=x(),l=(0,i.fS)("bad_moon_rising_skip_status"),o=null!=e?e:l,c=new URLSearchParams({skip_status:o.toString()}).toString();return(0,a.Sk)("/api/organizations/".concat(n,"/code/repos?").concat(c),{queryKey:["SYNC_GH_REPOS_WITH_STATUS_QUERY_KEY",{orgUuid:n,skipStatus:o}],enabled:!!(t&&n&&s),meta:{noToast:!0}})},j=e=>{var t;let{owner:n,repo:i,branch:l}=e,o=(e=>{let{owner:t,repo:n,branch:i}=e,{activeOrganization:l}=(0,r.YL)(),o=null==l?void 0:l.uuid,c=x(),d=new URLSearchParams({owner:null!=t?t:"",repo:null!=n?n:""}).toString();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/github/repo?").concat(d),{queryKey:[s.yB,{orgUuid:o,owner:t,repo:n}],enabled:!!(t&&n&&!i&&l&&c),meta:{noToast:!0}})})({owner:n,repo:i,branch:l}),c=(e=>{let{owner:t,repo:n,branch:i}=e,{activeOrganization:l}=(0,r.YL)(),o=null==l?void 0:l.uuid,c=x();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/github/repo/").concat(t,"/").concat(n,"/tree/").concat(i),{queryKey:[s.o6,{orgUuid:o,owner:t,repo:n,branch:i}],staleTime:3e5,enabled:!!(t&&n&&i&&l&&c),meta:{noToast:!0}})})({owner:n,repo:i,branch:l||(null==(t=o.data)?void 0:t.default_branch)});return{data:{repo:o.data,tree:c.data},isFetching:o.isFetching||c.isFetching,error:o.error||c.error}},A=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,s=x();return(0,a.L2)("/api/github/organizations/".concat(n,"/github_batch_branch_status"),"POST",{enabled:!!(t&&s),meta:{noToast:!0},...e})}},39383:(e,t,n)=>{n.d(t,{jR:()=>S,K8:()=>b,$F:()=>j,Dx:()=>C,Y5:()=>w,Qo:()=>I,hW:()=>N,Ox:()=>L,c7:()=>_,kV:()=>y});var a=n(74813),r=n(1613),s=n(64328),i=n(68067),l=n(2e3),o=n(27541),c=n(7620),d=n(22167),u=n(92245),m=n(35580),f=n(75495),v=n(24407);let g=v.z.object({field:v.z.enum(["custom_oauth_client_id","custom_oauth_client_secret","url"]),sourceUrl:v.z.string()}),h=v.z.object({uuid:v.z.string(),name:v.z.string(),oneLiner:v.z.string(),description:v.z.string(),iconUrl:v.z.string().optional(),toolNames:v.z.array(v.z.string()),promptNames:v.z.array(v.z.string()),license:v.z.string().optional(),version:v.z.string().optional(),author:v.z.object({name:v.z.string().optional(),url:v.z.string().optional()}).optional(),documentation:v.z.string().optional(),support:v.z.string().optional(),privacyPolicy:v.z.string().optional(),requiredFields:v.z.array(g).optional()});h.and(v.z.object({type:v.z.enum(["firstParty"]),syncSourceType:v.z.enum([l.v8.GDRIVE,l.v8.GMAIL,l.v8.GCAL,l.v8.SLACK])}));let p=h.and(v.z.object({type:v.z.enum(["remote"]),isAuthless:v.z.boolean()}).and(v.z.union([v.z.object({url:v.z.string(),urlRegex:v.z.undefined()}),v.z.object({url:v.z.undefined(),urlRegex:v.z.string()})])));h.and(v.z.object({type:v.z.enum(["local"]),manifest:f.ff,onDiskPath:v.z.string().optional(),downloadCount:v.z.number().optional(),lifetimeDownloadCount:v.z.number().optional(),isBlocklisted:v.z.boolean().optional(),isInternal:v.z.boolean().optional(),isAllowlisted:v.z.boolean().optional()}));let x=v.z.array(p),y=e=>{let{isOpen:t,selectedServerId:n}=e,r=(0,c.useRef)(!1),{track:s}=(0,a.st)();(0,c.useEffect)(()=>{t&&(!r.current||n)&&(r.current=!0,s({event_key:"claudeai.mcp.directory.page_view",directory_server_id:n}))},[t,n,s])},b=e=>{let{openModal:t}=e,n=(0,o.useSearchParams)(),a=n.get("directory-open"),r=n.get("directory-uuid");(0,c.useEffect)(()=>{if(a){try{let e=new URL(window.location.href);e.searchParams.delete("directory-open"),e.searchParams.delete("directory-uuid"),window.history.replaceState(null,"",e.pathname+e.search+e.hash)}catch(e){window.history.replaceState(null,"",window.location.pathname+window.location.hash)}t(null!=r?r:void 0)}},[a,r,t])},j=e=>{let{modalIsOpen:t,directoryUuid:n}=e,a=(0,c.useRef)(null);(0,c.useEffect)(()=>{let e;try{e=new URL(window.location.href)}catch(e){return}t?(a.current||(a.current=window.location.pathname),window.history.replaceState(null,"","/directory".concat(n?"/".concat(n):"")+e.search+e.hash)):!t&&a.current&&(window.history.replaceState(null,"",a.current+e.search+e.hash),a.current=null)},[t,n])},A=[{uuid:"8c1b41b4-c060-4704-8c17-95c39fa3511c",name:"Gmail",type:"firstParty",syncSourceType:l.v8.GMAIL,oneLiner:"Draft replies, summarize threads, & search your inbox",description:"Connect Gmail to Claude to quickly find important emails and understand long conversations. Claude can search through your messages, read entire email threads to give you context, and help you stay on top of your inbox. Perfect for finding that message you remember sending, catching up on email chains you missed, or preparing for meetings.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"da761fc3-2821-443c-9734-0b53599fda39",name:"Google Calendar",type:"firstParty",syncSourceType:l.v8.GCAL,oneLiner:"Understand your schedule and optimize your time",description:"Connect Google Calendar to Claude so it can see your schedule, find specific events, and help you prepare for meetings. Claude can search your calendar for events, check your availability, and find free time slots for scheduling. Useful for understanding what’s coming up, preparing for meetings by seeing attendee lists and details, or coordinating schedules when planning new events.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"37fb5d42-ef62-45d4-a12e-66551527a003",name:"Google Drive",type:"firstParty",syncSourceType:l.v8.GDRIVE,oneLiner:"Find and analyze files instantly",description:"Connect Google Drive to Claude so it can search through your documents, read file contents, and help you work with your files. Claude can find specific documents even when you don’t remember the exact name, read and analyze the content of your docs, and convert files to different formats. Useful for finding old project notes, analyzing document content, or pulling information from files scattered across your Drive.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/10166901-using-the-google-drive-integration",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"}],w=()=>{let e=(0,m.Uz)();return{getCorrespondingInstalledServer:t=>{let{url:n,urlRegex:a}=t;if(n)return e.find(e=>e.url===n)||null;if(a){let t=new RegExp(a);return e.find(e=>t.test(e.url||""))||null}return null}}},C=e=>({getCorrespondingDirectoryServer:(0,c.useCallback)(t=>{let{url:n}=t;return n&&e.find(e=>{if("remote"===e.type){if(e.url)return e.url===n;else if(e.urlRegex)return new RegExp(e.urlRegex).test(n)}return!1})||null},[e])}),S=e=>{if(e<1e3)return e.toString();let t=(e,t,n)=>{let a=e/t,r=a<10?Math.round(10*a)/10:Math.round(a);return"".concat(r).concat(n)};return e<1e6?t(e,1e3,"k"):e<1e9?t(e,1e6,"M"):t(e,1e9,"B")},_=()=>{let e=(0,i.T9)("mcp_directory_servers","servers",[],x),t=(0,i.T9)("conditional_mcp_directory_servers","servers",[],x),n=e.concat(t),a=(0,d.vm)(),r=(0,d.kO)();return{status:"success",servers:[...((e,t,n)=>{var a,r,s;let i=new Set;return(null==(a=e[l.v8.GMAIL])?void 0:a.available)&&!t||i.add(l.v8.GMAIL),(null==(r=e[l.v8.GCAL])?void 0:r.available)&&!t||i.add(l.v8.GCAL),(null==(s=e[l.v8.GDRIVE])?void 0:s.available)&&!n||i.add(l.v8.GDRIVE),A.filter(e=>!i.has(e.syncSourceType))})((0,u.Ou)(),a,r),...n].sort((e,t)=>e.name.localeCompare(t.name)),refetch:()=>{}}},N=()=>{let{servers:e}=_(),{getCorrespondingDirectoryServer:t}=C(e.filter(e=>"remote"===e.type));return{isRemoteServerInDirectory:e=>{let{url:n}=e;return!!t({url:n})}}},M=e=>e.map(e=>{var t,n;let a=e.manifest;return{type:"local",uuid:e.id,name:a.display_name||a.name,oneLiner:a.description,description:a.long_description||a.description,iconUrl:e.icon_url||"",toolNames:(null==(t=a.tools)?void 0:t.map(e=>e.name))||[],promptNames:(null==(n=a.prompts)?void 0:n.map(e=>e.name))||[],license:a.license,version:a.version,author:{name:a.author.name,url:a.author.url},documentation:a.documentation,support:a.support,manifest:a,downloadCount:e.download_count,lifetimeDownloadCount:e.lifetime_download_count,isBlocklisted:e.is_blocklisted,isInternal:e.is_internal,isAllowlisted:e.is_allowlisted}}).sort((e,t)=>{var n,a;let r=null!=(n=e.lifetimeDownloadCount)?n:-1;return(null!=(a=t.lifetimeDownloadCount)?a:-1)-r}),L=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:t}=(0,s.YL)(),n=(0,r.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/dxt/extensions"),{headers:{"x-dxt-registry-version":"2","x-mcpb-manifest-version":"0.2"}});if("success"!==n.status)return{status:n.status,servers:[],refetch:()=>{n.refetch()}};let a=e?n.data.entries:n.data.entries.filter(e=>!0!==e.is_blocklisted);return{status:n.status,refetch:()=>{n.refetch()},servers:M(a)}},I=()=>{let{activeOrganization:e}=(0,s.YL)(),t=(0,r.Sk)("/api/organizations/".concat(null==e?void 0:e.uuid,"/dxt/installable_extensions"),{headers:{"x-dxt-registry-version":"2","x-mcpb-manifest-version":"0.2"},refetchOnMount:!0});return"success"!==t.status?{status:t.status,servers:[],refetch:()=>{t.refetch()}}:{status:t.status,refetch:()=>{t.refetch()},servers:M(t.data.entries)}}},54787:(e,t,n)=>{n.d(t,{c:()=>u,j:()=>m});var a=n(2348),r=n(54568),s=n(59922),i=n(72902),l=n(7620),o=n(59666);function c(){let e=(0,a._)(["\n  relative\n  bg-text-500/50\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-always-white/0 after:from-0% after:via-always-white/20 after:via-50% after:to-100% after:to-always-white/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return c=function(){return e},e}function d(){let e=(0,a._)(["\n  relative\n  bg-bg-400\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-bg-000/0 after:from-0% after:via-bg-000/20 after:via-50% after:to-100% after:to-bg-000/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return d=function(){return e},e}let u=e=>{let{repeat:t,children:n}=e;return(0,r.jsx)(r.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)(l.Fragment,{children:n},t))})};function m(e){let{className:t,height:n=24,width:a,rounded:s="full",variant:c="default"}=e,d=(0,l.useRef)(null),u={height:n,width:"number"==typeof a||"string"==typeof a?a:"object"==typeof a?(null===d.current&&(d.current=Math.round(Math.random()*(a.max-a.min))+a.min),d.current):"100%",maxWidth:"100%"};return(0,r.jsx)("light"===c?v:f,{className:(0,i.A)(t,{"rounded-full":"full"===s,"rounded-xl":"xl"===s,"rounded-lg":"lg"===s,"rounded-md":"md"===s,"rounded-sm":"sm"===s}),style:u,children:(0,r.jsx)("span",{className:"sr-only",children:(0,r.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}let f=s.J.div(c()),v=s.J.div(d())},60147:(e,t,n)=>{n.d(t,{m:()=>p});var a=n(54568),r=n(46302),s=n(64328),i=n(35984),l=n(34498),o=n(2e3),c=n(65315),d=n(10369),u=n(96547),m=n(79052),f=n(5924),v=n(36016),g=(n(18050),n(22167)),h=n(20746);function p(e){let{type:t,server:n,onClose:r}=e;if(n)return(0,a.jsx)(j,{server:n,onClose:r});switch(t){case o.v8.GITHUB:return(0,a.jsx)(x,{onClose:r});case o.v8.GDRIVE:return(0,a.jsx)(y,{onClose:r});case o.v8.OUTLINE:return;case o.v8.FIDDLEHEAD:return(0,a.jsx)(A,{onClose:r});case o.v8.CUTTLEFISH:return(0,a.jsx)(w,{onClose:r});default:return(0,a.jsx)(b,{type:t,onClose:r})}}function x(e){let{onClose:t}=e,{mutate:n,isPending:r}=(0,v.rW)();return(0,a.jsx)(C,{name:"GitHub",onDisconnect:n,disconnecting:r,onClose:t})}function y(e){let{onClose:t}=e,{mutate:n,isPending:r}=(0,m.U5)(),s=(0,d.A)();return(0,a.jsx)(C,{name:"Google Drive",onDisconnect:n,disconnecting:r,onClose:t,modalMessageOverride:s.formatMessage({defaultMessage:"You won’t be able to continue any previous chats that reference content from Google Docs.",id:"Zi7eVRnAwf"})})}function b(e){let{type:t,onClose:n}=e,{disconnect:r}=(0,g.ob)(t);return(0,a.jsx)(C,{name:(0,h.xI)(t),onDisconnect:r,disconnecting:!1,onClose:n})}function j(e){let{server:t,onClose:n}=e,r=(0,d.A)(),{activeOrganization:l}=(0,s.YL)(),{addError:o}=(0,i.Y)(),{mutate:c,isPending:m}=(0,u.W3)((null==l?void 0:l.uuid)||"",t.uuid,{onError:e=>{o(r.formatMessage({defaultMessage:"Failed to disconnect from server",id:"L488a5jdgF"}),{error:e,messageForLogging:"Failed to disconnect from server"})}});return(0,a.jsx)(C,{name:t.name,onDisconnect:c,disconnecting:m,onClose:n})}function A(e){let{onClose:t}=e,{mutate:n,isPending:r}=(0,f.Qp)(),s=(0,h.ak)(),i=(0,c.wc)(),l=i[c.BU],d=i[c.jT],u=i[c.fh];return(0,a.jsx)(C,{name:s(o.v8.FIDDLEHEAD),onDisconnect:n,disconnecting:r,onClose:t,modalMessageOverride:l,modalTitleOverride:d,modalButtonOverride:u})}function w(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,r.fH)(),i=(0,h.ak)();return(0,a.jsx)(C,{name:i(o.v8.CUTTLEFISH),onDisconnect:n,disconnecting:s,onClose:t})}function C(e){let{name:t,onDisconnect:n,disconnecting:r,onClose:s,modalMessageOverride:i,modalTitleOverride:o,modalButtonOverride:c}=e,u=(0,d.A)(),m=null!=o?o:u.formatMessage({defaultMessage:"Disconnect {integrationName}?",id:"MUrNVj88RO"},{integrationName:t}),f=null!=c?c:u.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),v=null!=i?i:u.formatMessage({defaultMessage:"You can still continue previous chats that reference {integrationName} content. However, Claude won’t be able to access new content or perform new tasks.",id:"tlmLidjA7e"},{integrationName:t});return(0,a.jsx)(l.R,{isOpen:!0,onClose:s,title:m,onConfirm:()=>{n(),s()},confirmText:f,variant:"danger",autoFocus:!1,message:v,size:"md",isLoading:r})}},66716:(e,t,n)=>{n.d(t,{r:()=>o});var a=n(54568),r=n(72902),s=n(57965),i=n.n(s),l=n(7620);function o(e){let{direction:t="vertical",disabled:n,containerClassName:s,className:o,gradientHeight:c=24,hideTopGradient:d=!1,hideBottomGradient:u=!1,contentHeightMayChange:m=!1,containerHeightMayChange:f=!1,children:v,...g}=e,h=(0,l.useRef)(null),p=(0,l.useRef)(null),[x,y]=(0,l.useState)(!0),[b,j]=(0,l.useState)(!0),A=(0,l.useRef)(x),w=(0,l.useRef)(b),C=i()((0,l.useCallback)(()=>{let e=p.current;e&&(("vertical"===t?e.scrollHeight-e.scrollTop-e.clientHeight<=1:e.scrollWidth-e.scrollLeft-e.clientWidth<=1)?A.current||(y(!0),A.current=!0):A.current&&(y(!1),A.current=!1),("vertical"===t?e.scrollTop:e.scrollLeft)<=0?w.current||(j(!0),w.current=!0):w.current&&(j(!1),w.current=!1))},[t]),150);return(0,l.useEffect)(()=>{C()},[C]),(0,l.useEffect)(()=>{if(!h.current||!m)return;let e=new ResizeObserver(C);return e.observe(h.current),()=>{e.disconnect()}},[C,m]),(0,l.useEffect)(()=>{if(!p.current||!f)return;let e=new ResizeObserver(C);return e.observe(p.current),()=>{e.disconnect()}},[C,f]),(0,a.jsx)("div",{style:{maskImage:n?void 0:"linear-gradient(to ".concat("vertical"===t?"bottom":"right",", transparent 0%, black ").concat(b||d?0:c,"px, black calc(100% - ").concat(x||u?0:c,"px), transparent 100%)")},className:(0,r.A)("vertical"===t?"min-h-0":"min-w-0",s),children:(0,a.jsx)("div",{onScroll:n?void 0:C,ref:p,className:(0,r.A)("vertical"===t?"overflow-y-auto overflow-x-hidden min-h-0":"overflow-x-auto overflow-y-hidden min-w-0",o),...g,children:m?(0,a.jsx)("div",{ref:h,children:v}):v})})}},71396:(e,t,n)=>{n.d(t,{J:()=>v});var a=n(54568),r=n(26819),s=n(66716),i=n(3075),l=n(72902),o=n(10369),c=n(59666),d=n(83226),u=n(45271),m=n(68010),f=n(22271);function v(e){let{onClose:t,server:n}=e,l=(0,o.A)();return(0,a.jsx)(i.aF,{isOpen:!0,hasCloseButton:!0,onClose:t,modalSize:"xl",children:(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-6",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.z,{size:42,imageSize:24,type:n.iconType,src:n.iconSrc,name:n.name}),(0,a.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("p",{className:"font-medium",children:n.name}),(0,a.jsx)(r.E,{children:"remote"===n.type?(0,a.jsx)(c.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(c.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),n.url?(0,a.jsx)(d.sd,{url:n.url}):n.version&&(0,a.jsx)("div",{className:"text-sm text-text-400",children:n.version})]})]})}),(0,a.jsx)(s.r,{gradientHeight:24,className:"h-[500px]",children:(0,a.jsx)("div",{className:"flex flex-col pb-4",children:(()=>{let e=!!n.tools.length,t=!!n.resources.length,r=!!n.prompts.length,s=!e&&t,i=!e&&!t&&r;return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(g,{name:l.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),items:n.tools,server:n,isFirst:e}),t&&(0,a.jsx)(g,{name:l.formatMessage({defaultMessage:"Resources",id:"c/KktLImbB"}),items:n.resources,isFirst:s}),r&&(0,a.jsx)(g,{name:l.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),items:n.prompts,isFirst:i})]})})()})})]})})}function g(e){let{name:t,items:n,server:r,isFirst:s}=e;return(0,a.jsxs)("div",{className:(0,l.A)("flex flex-col pb-4",!s&&"border-t border-border-300 pt-4"),children:[(0,a.jsx)("div",{className:"sticky top-0 w-full bg-bg-100 pt-2 pb-4 z-10",children:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)("div",{className:"font-large-bold text-text-100",children:t})})}),(0,a.jsx)("div",{children:n.map(e=>{let t=(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"font-base-bold",children:e.displayName}),(0,a.jsx)(m.M,{text:e.description})]});return(0,a.jsx)("div",{className:"py-2",children:r?(0,a.jsx)(f.P,{tool:e,server:r,children:t},e.name):t},e.name)})})]})}},73129:(e,t,n)=>{n.d(t,{Q:()=>o,t:()=>c});var a=n(54568),r=n(99969),s=n.n(r),i=n(7620);let l=(0,i.createContext)({isOpen:!1,dropdownToOpen:void 0,openModal:s(),closeModal:s(),clearCallerIdentifier:s()}),o=e=>{let{children:t}=e,[n,r]=(0,i.useState)(!1),s=(0,i.useRef)(void 0),[o,c]=(0,i.useState)(void 0);return(0,a.jsx)(l.Provider,{value:{isOpen:n,openModal:e=>{r(!0),s.current=e},closeModal:()=>{r(!1),c(s.current)},dropdownToOpen:o,clearCallerIdentifier:()=>{c(void 0)}},children:t})},c=()=>(0,i.useContext)(l)},79052:(e,t,n)=>{n.d(t,{$f:()=>R,K6:()=>F,L5:()=>P,LP:()=>N,U5:()=>E,cI:()=>L,cj:()=>I,ef:()=>Y,fb:()=>O,kJ:()=>M,qL:()=>T,vT:()=>G,y:()=>z,yy:()=>S,zF:()=>D,zH:()=>k});var a=n(94295),r=n(1613),s=n(64328),i=n(35984),l=n(80688),o=n(68067),c=n(2e3),d=n(28044),u=n(66365),m=n(4869),f=n(27541),v=n(7620),g=n(10369),h=n(94028),p=n(73129),x=n(91958),y=n(35580),b=n(3111),j=n(10665),A=n(22167),w=n(40459);let C="gdrive_success",S=()=>{let e=(0,s.mV)(),{data:t}=(0,A.LN)(),n=(0,A.kO)(),a=(0,A.qi)(c.v8.GDRIVE),r=!1;if(n){var i;let e=Array.isArray(t)?t.find(e=>e.type===c.v8.MCP_RESOURCES):null;(null==a?void 0:a.uuid)&&(null==e||null==(i=e.config)?void 0:i.servers)&&(r=!!e.config.servers[a.uuid])}else r=!!(Array.isArray(t)&&t.find(e=>e.type===c.v8.GDRIVE&&e.enabled));return!e||r},_=()=>{let e=(0,o.fS)("kingfisher_enabled"),t=(0,u.useLayer)("trials_freemium").get("free_integrations",!1);return e||t},N=()=>{let e=S(),t=_();return!!(!w.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION&&t&&e)},M=()=>{let{account:e,activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,a=N(),{data:i,isFetched:o}=(0,r.Sk)("/api/organizations/".concat(n,"/sync/mcp/drive/auth"),{queryKey:[l.jR,{accountUUID:null==e?void 0:e.uuid,orgUuid:n}],enabled:a,staleTime:3e5});return{isAuthenticated:a&&!!(null==i?void 0:i.is_authenticated),isFetched:o}},L=function(){let{callerIdentifier:e,handleAuthSuccess:t,pathname:n,queryString:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,A.kO)(),{isAuthenticated:u,startAuth:h,isFetched:x}=(0,A.ob)(c.v8.GDRIVE,{callerIdentifier:e,handleAuthSuccess:t,pathname:n,queryString:a}),{isAuthenticated:y,isFetched:j}=M(),{addSuccess:w}=(0,i.Y)(),S=(0,g.A)(),{dropdownToOpen:_,clearCallerIdentifier:L}=(0,p.t)(),I=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];null==t||t(e),w(S.formatMessage({defaultMessage:"Successfully connected to Google Drive",id:"7RI6njc31e"}))},E=(e=>{let{callerIdentifier:t,pathname:n,queryString:a}=e,i=(0,f.usePathname)(),{account:o,activeOrganization:c}=(0,s.YL)(),u=null==o?void 0:o.uuid,g=null==c?void 0:c.uuid,h=N(),p=(0,m.useQueryClient)(),x=(0,d.V)(),y=(0,f.useSearchParams)(),{mutate:j}=(0,r.L2)("/api/organizations/".concat(g,"/sync/mcp/drive/auth/start"),"POST",{enabled:h,onSuccess:e=>{window.location.href=e.redirect_url}}),A=(0,v.useRef)(!1);return()=>{if(!h)return;let e="".concat(C,"=").concat(t).concat(a?"&".concat(a):""),r=(0,b.d)({pathname:n||i,searchParams:y,queryString:e,shouldOpenInClaudeApp:x});if(p.invalidateQueries({queryKey:[l.jR,{accountUUID:u,orgUuid:g}]}),x)return void window.open("/settings/connectors?open_in_browser=1&auth_start=gdrive&origin=".concat(r));A.current||(A.current=!0,j({pre_auth_state:{origin:r},redirect_uri:new URL("/connect/mcp/drive/callback",window.location.origin).toString()}))}})({callerIdentifier:e,pathname:n,queryString:a});return((0,A.FZ)({callerIdentifier:e,successParam:C,handleOpen:I}),(0,v.useEffect)(()=>{e&&_===e&&(null==t||t(!0),L())},[_,t,e,L]),o)?{isDriveAuthenticated:u,initDriveAuth:h,handleDriveTrigger:I,isFetched:x}:{isDriveAuthenticated:y,initDriveAuth:E,handleDriveTrigger:I,isFetched:j}},I=()=>{let e=(0,y.Uz)({type:"remote"}),t=(0,A.kO)(),n=e.find(e=>{var t;return null==(t=e.url)?void 0:t.startsWith("https://api.anthropic.com/mcp/gdrive/")});return{serverId:null==n?void 0:n.uuid,isConnected:null==n?void 0:n.isConnected,isEnabled:t}},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,s.YL)(),a=null==t?void 0:t.uuid,i=null==n?void 0:n.uuid,o=N(),c=(0,m.useQueryClient)(),{mutate:d}=(0,h.ih)();return(0,r.L2)("/api/organizations/".concat(i,"/sync/mcp/drive/auth"),"DELETE",{enabled:!!(n&&o),...e,onSuccess:function(){for(var t,n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];c.invalidateQueries({queryKey:[l.jR,{accountUUID:a,orgUuid:i}]}),d({}),null==(t=e.onSuccess)||t.call(e,...r)}})},z=e=>{let{documentId:t}=e,{account:n,activeOrganization:a}=(0,s.YL)(),i=null==n?void 0:n.uuid,o=null==a?void 0:a.uuid,c=N(),d=(0,m.useQueryClient)(),u=(0,r.Sk)("/api/organizations/".concat(o,"/sync/mcp/drive/document/").concat(t,"?include_content=false"),{queryKey:[l.QB,{accountUUID:i,orgUuid:o,documentId:t}],enabled:c,meta:{noToast:!0}}),f=u.isError;return(0,v.useEffect)(()=>{f&&d.invalidateQueries({queryKey:[l.jR,{accountUUID:i,orgUuid:o}]})},[d,f,i,o]),u};function D(e){let{uri:t}=e,{data:n,isLoading:a}=z({documentId:t});return{title:null==n?void 0:n.title,isLoading:a}}let T=e=>{let{account:t,activeOrganization:n}=(0,s.YL)(),a=null==t?void 0:t.uuid,i=null==n?void 0:n.uuid,o=N(),c=(0,v.useMemo)(()=>e.map(e=>"/api/organizations/".concat(i,"/sync/mcp/drive/document/").concat(e)),[e,i]),d=(0,v.useMemo)(()=>({queryKey:e.map(e=>[l.qM,{accountUUID:a,orgUuid:i,documentId:e}]),enabled:o,meta:{noToast:!0}}),[e,a,i,o]);return(0,r._i)(c,d)},k=e=>{let{account:t,activeOrganization:n}=(0,s.YL)(),a=null==t?void 0:t.uuid,i=null==n?void 0:n.uuid,o=N(),c=(0,x.bI)(),{data:d,isSuccess:u,isLoading:m}=(0,r.Sk)("/api/organizations/".concat(i,"/sync/mcp/drive/recents"),{queryKey:[l.zu,{accountUUID:a,orgUuid:i}],enabled:e&&o,meta:{noToast:!0}});return(0,v.useEffect)(()=>{if(u&&d){let e=d.map(e=>{let{uri:t,title:n}=e;return{uri:t,title:n}});(0,x.Ac)(e)}},[u,d]),{recentDriveDocs:u?d:c,isLoading:m}},O=()=>{let e=_(),t=(0,o.fS)("apps_use_bananagrams"),n=(0,u.useLayer)("trials_freemium").get("free_integrations",!1);return e&&t||n},F=()=>{let e=N(),t=O();return e&&t&&!w.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION},R=e=>{var t;let n=F(),{account:a}=(0,s.YL)(),r=(0,o.fS)("claude_ai_sticky_project_settings"),i=(0,j.vP)("enabled_bananagrams");return!!n&&(r?!!i:e?!!(null==e||null==(t=e.conversationSettings)?void 0:t.enabled_bananagrams):!!(null==a?void 0:a.settings.enabled_bananagrams))},P=()=>(0,o.fS)("rag_prototype"),G=()=>{let e=F(),t=(0,s.mV)(),{data:n}=(0,A.LN)(),{account:a}=(0,s.YL)(),r=P(),i=(0,A.kO)(),l=(0,A.qi)(c.v8.GDRIVE);if(!e||!r)return!1;if(t)if(!i)return!!(Array.isArray(n)&&n.find(e=>{var t;return e.type===c.v8.GDRIVE&&e.enabled&&(null==(t=e.config)?void 0:t.allow_indexing)}));else{var o;let e=Array.isArray(n)?n.find(e=>e.type===c.v8.MCP_RESOURCES):null;if((null==l?void 0:l.uuid)&&(null==e||null==(o=e.config)?void 0:o.servers)){let t=e.config.servers[l.uuid];return!!(null==t?void 0:t.allow_indexing)}return!1}return!!(null==a?void 0:a.settings.enabled_gdrive_indexing)},Y=()=>{let{account:e}=(0,s.YL)(),{mutate:t}=(0,a.yJ)(),{mutate:n}=(0,h.Bg)();return{toggleDriveSearchAndIndexingEnabled:a=>{var r;let{indexingEnabled:s,searchEnabled:i,dismissBanner:l}=a,o=l||!!s;s&&n({}),t({...void 0!==s?{enabled_gdrive_indexing:s}:null,...void 0!==i||!0===s?{enabled_bananagrams:null!=s?s:i}:null,...o?{dismissed_claudeai_banners:[...(null==e||null==(r=e.settings)?void 0:r.dismissed_claudeai_banners)||[],{banner_id:"drive_indexing_enablement_2/11_1",dismissed_at:new Date().toISOString()}]}:null})}}}},79155:(e,t,n)=>{n.d(t,{f:()=>i});var a=n(54568),r=n(62515),s=n(72902);let i=(0,n(7620).forwardRef)((e,t)=>{let{checkState:n,onClick:i,label:l,...o}=e,c="partial"===n?r.Hsy:r.Jlk;return(0,a.jsxs)("div",{className:"p-2 -m-2 flex items-center",onClick:e=>{e.stopPropagation(),i({didCheck:"unchecked"===n})},children:[(0,a.jsx)("button",{ref:t,className:(0,s.A)("rounded p-[0.5px] border-0.5 flex items-center justify-center transition","unchecked"!==n?"bg-accent-secondary-000 border-accent-secondary-200 shadow-sm":"border-border-200 hover:bg-bg-000 hover:shadow-sm"),...o,children:(0,a.jsx)(c,{className:(0,s.A)("text-always-white transition",{invisible:"unchecked"===n}),size:16})}),l&&(0,a.jsx)("span",{className:"ml-2 cursor-pointer",children:l})]})});i.displayName="PartialCheckbox"},80092:(e,t,n)=>{n.d(t,{AW:()=>u,Ks:()=>f,LK:()=>v,oo:()=>m,sr:()=>d});var a=n(1613),r=n(64328),s=n(28),i=n(68067),l=n(4869);let o="lti_platforms";function c(){return(0,i.fS)("claude_ai_velvet_accordion")}let d=()=>{let{activeOrganization:e,account:t}=(0,r.YL)(),n=null==e?void 0:e.uuid,i=(0,s.yI)(t,e,s.Nt.OrganizationManage),l=c();return(0,a.Sk)("/api/organizations/".concat(n,"/lti/platforms"),{queryKey:[o,{orgUuid:n}],enabled:!!e&&!!n&&i&&l})},u=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,r.YL)(),s=null==n?void 0:n.uuid,i=c();return(0,a.L2)("/api/organizations/".concat(s,"/lti/platforms"),"PUT",{enabled:i,onSuccess:e=>{t.setQueryData([o,{orgUuid:s}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n)=>{e&&!n&&(t.setQueryData([o,{orgUuid:s}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]}))},...e})},m=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,r.YL)(),s=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(s,"/lti/platforms/").concat(t)},"POST",{enabled:i,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},f=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,r.YL)(),s=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(s,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},v=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,r.YL)(),s=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(s,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:s}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})}},83226:(e,t,n)=>{n.d(t,{cG:()=>j,fI:()=>y,lg:()=>p,sd:()=>x,zA:()=>b});var a=n(54568),r=n(64328),s=n(35984),i=n(26819),l=n(54787),o=n(67453),c=n(64371),d=n(28),u=n(2e3),m=n(72902);n(7620);var f=n(10369),v=n(59666),g=n(45271),h=n(20746);function p(){let{account:e,activeOrganization:t}=(0,r.YL)(),n=(0,d.pG)(e,t,"claude-ai"),a=(0,d.yI)(e,t,d.Nt.IntegrationsManage),s=(0,r.mV)();return{manageFromOrg:s&&(a||n),manageFromPersonal:!s}}function x(e){let{url:t}=e,{copyToClipboard:n}=(0,c.C)(),{addSuccess:r}=(0,s.Y)(),i=(0,f.A)(),l=t.length>50?"".concat(t.substring(0,47),"..."):t;return(0,a.jsx)(o.Tooltip,{tooltipContent:(0,a.jsx)(v.A,{defaultMessage:"Copy URL",id:"P8QaSQLfW+"}),side:"bottom",align:"start",children:(0,a.jsx)("div",{className:"text-sm text-text-400 cursor-pointer hover:text-text-300 transition-colors truncate",onClick:()=>{n(t),r(i.formatMessage({defaultMessage:"Server URL copied",id:"Izgggpt47N"}))},children:l})})}function y(e){let{type:t,server:n,connected:r,children:s,isInDirectory:l=!1}=e,o=(0,h.ak)(),c=n?!n.isConnected:t&&!1===r,d=t===u.v8.FIDDLEHEAD?o(t):null==n?void 0:n.name;return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.z,{size:42,imageSize:24,type:"syncSource",src:t,name:t,className:(0,m.A)(c&&"opacity-50")}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsx)("span",{className:(0,m.A)("truncate",c&&"text-text-400"),children:o(t)}),c&&(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})})]})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.z,{size:42,imageSize:24,type:n.iconType,src:n.iconSrc,name:d||"?",className:(0,m.A)(c&&"opacity-50")}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{className:(0,m.A)("truncate",c&&"text-text-400"),children:d}),!l&&(0,a.jsx)(i.E,{children:"remote"===n.type?(0,a.jsx)(v.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(v.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),c?(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})}):n.url&&!l&&(0,a.jsx)(x,{url:n.url})]})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:s})]})}function b(){return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,a.jsx)(l.j,{width:42,height:42,rounded:"lg",variant:"light"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(l.j,{width:120,height:20,rounded:"md",variant:"light"}),(0,a.jsx)(l.j,{width:80,height:16,rounded:"md",variant:"light"})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:(0,a.jsx)(l.j,{width:80,height:32,rounded:"md",variant:"light"})})]})}function j(e){let{className:t}=e;return(0,a.jsx)("div",{className:(0,m.A)("border-t-[0.5px] border-border-300 m-2",t)})}},84543:(e,t,n)=>{n.d(t,{E:()=>l});var a=n(54568),r=n(13750),s=n(10369),i=n(59666);function l(e){let{domain:t,setDomain:n,clientId:l,setClientId:o,deploymentId:c,setDeploymentId:d}=e,u=(0,s.A)();return(0,a.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(r.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:t,onValueChange:e=>n(e||""),onBlur:()=>n(t.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(r.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:l,onValueChange:e=>o(e||""),onBlur:()=>o(l.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(r.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:c,onValueChange:e=>d(e||""),onBlur:()=>d(c.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}},88281:(e,t,n)=>{n.d(t,{r:()=>w,z:()=>C});var a=n(54568),r=n(23812),s=n(87483),i=n(28044),l=n(19820),o=n(72902),c=n(7620),d=n(10369),u=n(80092),m=n(3075),f=n(18868),v=n(59666);function g(e){let{platform:t,onClose:n,onConfirm:s,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,a.jsx)(f.N,{size:20,weight:"bold"}),(0,a.jsx)(v.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(v.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(v.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,a.jsx)("p",{className:"text-text-200 text-sm",children:(0,a.jsx)(v.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(r.$,{variant:"danger",onClick:()=>s(t.id),loading:i,children:(0,a.jsx)(v.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,a.jsx)(r.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(v.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var h=n(7133),p=n(99740);function x(e){let{platform:t,onClose:n,onConfirm:s,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,a.jsx)(p.r,{size:20,weight:"bold"}),(0,a.jsx)(v.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(v.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(v.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(r.$,{variant:"primary",onClick:()=>s(t.id),loading:i,children:(0,a.jsx)(v.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,a.jsx)(r.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(v.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var y=n(3217),b=n(60147),j=n(98802),A=n(71396),w=function(e){return e[e.TOOLS=0]="TOOLS",e[e.DISCONNECT=1]="DISCONNECT",e[e.REMOVE=2]="REMOVE",e[e.DISABLE=3]="DISABLE",e[e.EDIT_CANVAS=4]="EDIT_CANVAS",e[e.DISABLE_CANVAS=5]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=6]="ENABLE_CANVAS",e}({});function C(e){let{type:t,server:n,actions:m}=e,f=(0,d.A)(),v=(0,i.V)(),[p,w]=(0,c.useState)(void 0),C=()=>w(void 0),{data:S}=(0,u.sr)(),_=(0,u.oo)({onSuccess:C}),N=(0,u.Ks)({onSuccess:C}),M=(0,u.LK)({onSuccess:C}),L=null==S?void 0:S[0];if(0===m.length)return;let I={0:f.formatMessage({defaultMessage:"Tools and settings",id:"8a8L0qsqhm"}),1:f.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),3:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),2:f.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),4:f.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),5:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),6:f.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"})},E=null;switch(p){case 0:E=(0,a.jsx)(A.J,{server:n,onClose:C});break;case 1:E=(0,a.jsx)(b.m,{type:t,server:n,onClose:C});break;case 3:E=(0,a.jsx)(y.u,{type:t,onClose:C});break;case 2:E=(0,a.jsx)(j.f,{server:n,onClose:C});break;case 4:E=L?(0,a.jsx)(h.S,{platform:L,onClose:C,onSubmit:(e,t,n,a)=>{_.mutate({platformId:e,canvas_url:t,client_id:n,name:"".concat(t," Canvas"),deployment_ids:[a]})},loading:_.isPending}):null;break;case 5:E=L?(0,a.jsx)(g,{platform:L,onClose:C,onConfirm:e=>{M.mutate({platformId:e,is_active:!1})},loading:M.isPending}):null;break;case 6:E=L?(0,a.jsx)(x,{platform:L,onClose:C,onConfirm:e=>{N.mutate({platformId:e,is_active:!0})},loading:N.isPending}):null}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.ms,{align:"end",trigger:(0,a.jsx)(r.$,{size:"icon",variant:"outline","aria-label":n?f.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:n.name}):f.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,a.jsx)(l.H,{size:16,weight:"bold"})}),children:m.map(e=>(0,a.jsx)(s.tJ,{className:(0,o.A)("min-w-[175px]",[1,3,2,5].includes(e)&&"text-danger-000"),onClick:()=>{if(2===e&&(null==n?void 0:n.type)==="local"&&v){var t,a;null==(a=window.claudeAppBindings)||null==(t=a.openMcpSettings)||t.call(a,n.name)}else w(e)},children:I[e]},e))}),E]})}},92245:(e,t,n)=>{n.d(t,{Ou:()=>h,Xd:()=>p});var a=n(46302),r=n(68067),s=n(2e3),i=n(65315),l=n(66365),o=n(80092),c=n(79052),d=n(5924),u=n(36016),m=n(18050),f=n(22167),v=n(88281);function g(){let e=(0,r.fS)("kingfisher_enabled"),t=(0,c.LP)(),{isDriveAuthenticated:n}=(0,c.cI)(),a=(0,r.fS)("pumpernickel_enabled"),i=(0,f.vm)(),o=(0,f.kO)(),d=(0,f.Ys)(s.v8.GMAIL),{isAuthenticated:u}=(0,f.ob)(s.v8.GMAIL),m=(0,f.Ys)(s.v8.GCAL),{isAuthenticated:v}=(0,f.ob)(s.v8.GCAL),g=(0,f.Ys)(s.v8.SLACK),{isAuthenticated:h}=(0,f.ob)(s.v8.SLACK),p=(0,l.useLayer)("trials_freemium").get("free_integrations",!1);return{[s.v8.GDRIVE]:{type:s.v8.GDRIVE,available:(e||p)&&!o,enabledForOrg:t,connected:n},[s.v8.GMAIL]:{type:s.v8.GMAIL,available:(a||p)&&!i,enabledForOrg:d,connected:u},[s.v8.GCAL]:{type:s.v8.GCAL,available:(a||p)&&!i,enabledForOrg:m,connected:v},[s.v8.SLACK]:{type:s.v8.SLACK,available:g,enabledForOrg:g,connected:h}}}let h=g;function p(){let e=Object.values(g()),t=(0,u.Cq)(),{isGithubAuthenticated:n}=(0,u.nB)({fetchImmediately:!0}),l=(0,i.wc)()[i.j$]||"invalid",{data:c}=(0,a.Jh)(l),h=c&&c.length>0,p=(0,r.fS)("spider_enabled_2"),x=(0,m.AI)(),{isOutlineAuthenticated:y}=(0,m.I5)(),b=(0,r.fS)("cinnabon_enabled"),j=(0,f.Ys)(s.v8.SALESFORCE),{isAuthenticated:A}=(0,f.ob)(s.v8.SALESFORCE),w=(0,f.Ys)(s.v8.ASANA),{isAuthenticated:C}=(0,f.ob)(s.v8.ASANA),S=(0,r.fS)("claude_ai_ember"),_=(0,r.fS)("claude_ai_velvet_accordion"),{data:N}=(0,o.sr)(),M=((null==N?void 0:N.filter(e=>e.is_active))||[]).length>0,L=(0,d.w5)(),{isAuthenticated:I}=(0,d.eF)();return[...e,...h?[{type:s.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:s.v8.GITHUB,available:!0,enabledForOrg:t,connected:n},{type:s.v8.OUTLINE,available:p&&!1,enabledForOrg:x,connected:y},{type:s.v8.SALESFORCE,available:b,enabledForOrg:j,connected:A},{type:s.v8.ASANA,available:b,enabledForOrg:w,connected:C},{type:s.v8.FIDDLEHEAD,available:!1,enabledForOrg:L,connected:I},{type:s.v8.CANVAS,available:S&&_&&!0,enabledForOrg:M,connected:M,connectedActions:M?[v.r.EDIT_CANVAS,v.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},98802:(e,t,n)=>{n.d(t,{f:()=>u});var a=n(54568),r=n(64328),s=n(35984),i=n(23812),l=n(3075),o=n(10369),c=n(59666),d=n(96547);function u(e){var t;let{onClose:n,server:u}=e,m=(0,o.A)(),f=(0,r.mV)(),{activeOrganization:v}=(0,r.YL)(),{addError:g}=(0,s.Y)(),h=u.name,{mutate:p,isPending:x}=(0,d.ll)((null==v?void 0:v.uuid)||"",null!=(t=u.uuid)?t:"",{onSuccess:n,onError:e=>{g(m.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e,messageForLogging:"Failed to disconnect server"})}});return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:f?m.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:h}):m.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:h}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:h}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(c.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:h}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:h}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(c.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,a.jsxs)(l.vW,{layout:"right",children:[(0,a.jsx)(i.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(c.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(i.$,{loading:x,onClick:()=>p(),variant:"danger",children:(0,a.jsx)(c.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}}}]);