"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2290],{3743:(e,t,n)=>{n.d(t,{Ah:()=>o,Bs:()=>a,NJ:()=>i,VH:()=>r,Xs:()=>s,u5:()=>l});let r=e=>{let{account:t,isClaudeDot:n}=e;return n?!1===t.settings.has_finished_claudeai_onboarding:!t.full_name||!t.display_name},a=(e,t)=>t&&!e.is_verified,i=(e,t)=>!!function(e,t){for(let n of e.invites)if(n.organization.capabilities&&n.organization.capabilities.includes(t))return n}(e,t?"raven":"api"),o=(e,t)=>!t&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&t&&!e.age_is_verified},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r({account:e,isClaudeDot:t})||a(e,t)||i(e,t)||o(e,t)||l(e,t,n)}},13644:(e,t,n)=>{n.d(t,{BH:()=>c,NE:()=>v,Nj:()=>l,QY:()=>p,U6:()=>u,VK:()=>b,b3:()=>m,iD:()=>s,k3:()=>y,q:()=>d,rX:()=>f,tX:()=>g});var r=n(1613),a=n(64328),i=n(80688),o=n(4869);let l=e=>(0,r.Sk)("/api/organizations/".concat(e),{queryKey:[i.i5,e],enabled:!!e,staleTime:3e4}),s=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.Qv)(e=>{let{flagType:n}=e;return"/api/organizations/".concat(t,"/flags/").concat(n,"/dismiss")},"POST",(e,t)=>{let{flagType:n}=e;if(t)return{...t,active_flags:t.active_flags.filter(e=>e.type!==n)}},{queryKey:[i.i5,t]})},u=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid,n=(0,a.mV)();return(0,r.Sk)("/api/organizations/".concat(t,"/members_limit"),{queryKey:[i.hz,t],enabled:!!t&&n,staleTime:0})},c=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid,n=(0,o.useQueryClient)();return(0,r.L2)("/api/organizations/".concat(t,"/contracted_quantity"),"PUT",{enabled:!!t,onSuccess:async()=>{await n.invalidateQueries({queryKey:[i.hz,t]})}})},d=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/public_projects_enabled"),{queryKey:[i._d,t],enabled:!!t,staleTime:0})},f=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/feature_settings"),{queryKey:[i.RR,t],enabled:!!t,staleTime:0})},p=()=>{var e,t;let{activeOrganization:n}=(0,a.YL)(),{data:r}=l(null==n?void 0:n.uuid);return null==(t=null==r||null==(e=r.settings)?void 0:e.claude_ai_completion_feedback_enabled)||t},g=()=>{var e,t;let{activeOrganization:n}=(0,a.YL)(),{data:r}=l(null==n?void 0:n.uuid);return null==(t=null==r||null==(e=r.settings)?void 0:e.claude_ai_integration_sharing_enabled)||t};function v(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,a.YL)(),l="/api/organizations/".concat(null!=(e=null==n?void 0:n.uuid)?e:""),s=(0,o.useQueryClient)();return(0,r.L2)(l,"PUT",{enabled:!!n,...t,async onSuccess(){for(var e,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];await Promise.all([s.invalidateQueries({queryKey:[i.Rw]}),s.invalidateQueries({queryKey:[i.i5]}),s.invalidateQueries({queryKey:[i.RR,null==n?void 0:n.uuid]}),s.invalidateQueries({queryKey:[i.En,null==n?void 0:n.uuid]})]),await (null==(e=t.onSuccess)?void 0:e.call(t,...a))}})}let b=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/allowed_domains"),{queryKey:[i.OX,t],enabled:!!t})},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,l=(0,o.useQueryClient)();return(0,r.L2)("/api/organizations/".concat(n,"/allowed_domains"),"PUT",{enabled:!!n,...e,onSuccess:async function(){for(var t,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];await l.invalidateQueries({queryKey:[i.OX,n]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...a))}})},m=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.L2)("/api/organizations/".concat(t,"/projects/request_haystack"),"POST",{enabled:!!t})}},18088:(e,t,n)=>{n.d(t,{Vc:()=>o,Wz:()=>i});var r=n(80039),a=n(61903);function i(e,t){return(0,r.F)({key:"SSS-".concat(e),defaultValue:t,serialize:JSON.stringify,deserialize:e=>void 0===e?t:JSON.parse(e)})}function o(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,a.Q)(e,t,n)}},23812:(e,t,n)=>{n.d(t,{$:()=>g});var r=n(54568),a=n(1720),i=n(35836),o=n(67453),l=n(54616),s=n(72902),u=n(19664),c=n.n(u),d=n(7620);let f="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",p=(0,l.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0\n        focus:!outline-text-000/75",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200\n          focus:!outline-accent-main-100/75",secondary:f,outline:f,ghost:"text-text-300\n          border-transparent\n          transition\n          font-base\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95\n          focus:!outline-danger-100/50",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),g=(0,d.forwardRef)((e,t)=>{let{className:n,variant:l,size:u,option:d,loading:f,href:g,onLinkClick:v,target:b,prepend:y,append:m,state:h,disabled:_,children:w,type:x="button",tooltip:S,tooltipSide:k="bottom",tooltipDelay:E,tooltipDisabled:L,tooltipHoverable:z=!1,shortcut:C,...j}=e;y&&(d="prepend"),(m||C)&&(d="append");let T=(0,s.A)(p({variant:l,size:u,option:d,state:h,className:n}),f&&"text-transparent ![text-shadow:_none]"),A=(0,r.jsxs)(r.Fragment,{children:[f&&(0,r.jsx)("div",{className:(0,s.A)("absolute inset-0 flex items-center justify-center",l&&"flat"!==l&&"danger"!==l?"secondary"===l||"outline"===l?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,r.jsx)(a.Loading,{size:"sm",inheritColor:!0,delay:0})}),y,w,m,C&&(0,r.jsx)(i.ShortcutDisplay,{className:"ml-1",onDark:!l||"flat"===l||"danger"===l||"primary"===l,small:!0,shortcut:C})]}),O=g?(0,r.jsx)(c(),{href:g,target:b||"_self",className:T,"aria-label":j["aria-label"],onClick:v,children:A}):(0,r.jsx)("button",{className:T,ref:t,disabled:_||f,type:x,...j,children:A});return S?(0,r.jsx)(o.Tooltip,{tooltipContent:S,side:k,delayDuration:E,disableHoverableContent:!z,children:(0,r.jsx)("div",{className:"w-fit",children:O})}):O});g.displayName="Button"},35984:(e,t,n)=>{n.d(t,{ErrorSegmentConnector:()=>A,ErrorsProvider:()=>z,i:()=>O,Y:()=>C});var r=n(54568),a=n(3743),i=n(16178);n(73356);var o=n(68067),l=n(56929),s=n(22300),u=n.n(s),c=n(61483),d=n.n(c),f=n(83487),p=n.n(f),g=n(27541),v=n(7620),b=n(24407),y=n(74813),m=n(64328);n(62515);function h(e,t){let n=[];for(let r of e){if(null==r)continue;let e=_(r,t+1);""!==e&&n.push(e)}return n.length>0?n.join(" "):""}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>5?"":e instanceof Error?e.message:"string"==typeof e||"number"==typeof e||"boolean"==typeof e?String(e):v.isValidElement(e)?function e(t,n){var r;let a=t.props;if("object"==typeof a&&null!==a&&"defaultMessage"in a&&"string"==typeof a.defaultMessage)return a.defaultMessage;if("function"==typeof t.type&&"object"==typeof t.props&&null!==t.props)try{let e=(0,t.type)(t.props);if(e)return _(e,n+1)}catch(e){}return"object"==typeof a&&null!==a&&"children"in a?(r=a.children,"string"==typeof r||"number"==typeof r||"boolean"==typeof r?String(r):null==r?"":Array.isArray(r)?h(r,n+1):v.isValidElement(r)?e(r,n+1):_(r,n+1)):""}(e,t):Array.isArray(e)?h(e,t):""}let w=e=>{var t;if(e instanceof i.LG&&(null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"error_visibility"in e.extra.details)return String(e.extra.details.error_visibility)},x=e=>e instanceof i.LG?e.type:e instanceof Error?e.name:typeof e,S=e=>{if(e instanceof i.LG){var t;if(e.errorCode)return e.errorCode;if((null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"error_code"in e.extra.details&&"string"==typeof e.extra.details.error_code)return e.extra.details.error_code}if(e instanceof Error&&"code"in e)return String(e.code)};var k=n(18088);let E=(0,v.createContext)(void 0);function L(e){var t;let{userFacingMessage:n,error:r,toastId:a,errorContext:o,track:l,isApiError:s}=e,u=_(n);l({event_key:"claudeai.user_facing_error.shown",error_message:u?"".concat(u.substring(0,200)).concat(u.length>200?"...":""):"[Error message could not be extracted for logging]",toast_id:a,error_type:x(r),error_source:(null==o||null==(t=o.tags)?void 0:t.source)||"unknown",error_endpoint:r instanceof i.LG?r.endpoint:void 0,error_method:r instanceof i.LG?r.method:void 0,has_original_error:!!r,original_error_message:r instanceof Error?r.message.substring(0,200):void 0,error_stack_trace:(e=>{if(e instanceof Error&&e.stack)return e.stack.split("\n").slice(0,3).join("\n").substring(0,500)})(r),error_code:S(r),error_status_code:(e=>{if(e instanceof Error){if("statusCode"in e&&"number"==typeof e.statusCode)return e.statusCode;if("status"in e&&"number"==typeof e.status)return e.status}})(r),error_visibility:w(r),websocket_close_code:(e=>{var t;if(e instanceof i.LG&&(null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"websocket_close_code"in e.extra.details&&"number"==typeof e.extra.details.websocket_close_code)return e.extra.details.websocket_close_code})(r),is_instanceof_api_error:r instanceof i.LG,is_caller_api_error:s,offline_status:"undefined"!=typeof navigator?!navigator.onLine:void 0})}function z(e){let{children:t}=e,n=(0,v.useRef)(1),[a,i]=(0,v.useState)([]),o=(0,v.useRef)(null),s=(0,v.useRef)([]),u=(0,v.useCallback)(e=>{o.current=e,s.current.forEach(t=>{e(t,void 0)}),s.current=[]},[]),c=(0,v.useCallback)(async e=>{if(null!==o.current)return o.current(e);s.current.push(e)},[]),d=(0,v.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),f=(0,v.useCallback)((e,t)=>{let r=n.current++,{timeout:a,error:o,errorContext:l,messageForLogging:s}=t||{};return L({userFacingMessage:s||e,error:o,toastId:r,errorContext:l,track:c,isApiError:!1}),i(t=>[...t,{id:r,message:e,toastType:"error",details:""}]),a&&setTimeout(()=>d(r),a),r},[d,"",c]),p=(0,v.useCallback)((e,t)=>{if("user_facing"!==w(e))return void(0,l.Cp)(e,{tags:{source:"api-error"},extra:{isSuppressed:!0}});let r=n.current++,{timeout:a,errorContext:o}=t||{},s=e instanceof Error?e.message:String(e);return"account_needs_verification"===s&&(s="Your account needs to be verified."),L({userFacingMessage:s,error:e,toastId:r,errorContext:o,track:c,isApiError:!0}),i(e=>[...e,{id:r,message:s,toastType:"error",details:""}]),a&&setTimeout(()=>d(r),a),r},[d,"",c]),g=(0,v.useCallback)((e,t)=>{let r=n.current++;return i(t=>[...t,{id:r,message:e,toastType:"success"}]),t&&setTimeout(()=>d(r),t),r},[d]),b=(0,v.useMemo)(()=>({toasts:a,addError:f,addApiError:p,addSuccess:g,clearToast:d,registerSegmentTracker:u}),[a,f,p,g,d,u]);return(0,r.jsx)(E.Provider,{value:b,children:t})}function C(){let e=(0,v.useContext)(E);if(!e)throw Error("Must be called within ErrorsProvider");return e}let j=b.z.object({id:b.z.string().optional().nullable(),title:b.z.string().optional().nullable(),message:b.z.string().optional().nullable(),displayFrequencyHours:b.z.number().optional().nullable()}),T={};function A(){let{registerSegmentTracker:e}=C(),{track:t}=(0,y.st)();return(0,v.useEffect)(()=>{e(t)},[e,t]),null}function O(){var e;let{id:t,title:n,message:r,displayFrequencyHours:i}=(0,o.iW)("claude_system_message",T,j),{account:l}=(0,m.YL)(),s=null!=(e=null==l?void 0:l.uuid)?e:"logged-out",c=(0,g.usePathname)(),[f,b]=(0,k.Vc)("dismissed-system-messages",{}),y=(0,v.useMemo)(()=>()=>b(e=>{let n=u()(e);return t&&p()(n,[s,t],Date.now()),n}),[b,s,t]);return(0,v.useMemo)(()=>{if(!l||(0,a.Xs)(l,!0)||"/download"===c||!t)return!1;let e=d()(f,[s,t]);return!e||"boolean"==typeof e||!!i&&Date.now()-e>=60*i*6e4},[l,t,s,f,i,c])?{currentSystemMessageId:t,currentSystemMessageTitle:n,currentSystemMessageContent:r,dismissCurrentSystemMessage:y}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},61903:(e,t,n)=>{n.d(t,{Q:()=>o,t:()=>i});var r=n(73356),a=n(7620);function i(e){var t,n,i;let{key:o,defaultValue:l,deserialize:s=JSON.parse,getInitialValueInEffect:u=!1,sync:c=!0}=e,d="LSS-".concat(o),f=(0,a.useRef)(null!=(i=null==(t=(n=crypto).randomUUID)?void 0:t.call(n))?i:"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2))),p=(0,a.useRef)(!1),[g,v]=(0,a.useState)(()=>{if(u)return l;try{let e=window.localStorage.getItem(d);if(e){let t=JSON.parse(e);if(t&&"object"==typeof t&&"value"in t)return t.value;return s(e)}}catch(e){r.v.warn(r.u.LOCAL_STORAGE,"Error reading localStorage key “".concat(d,"”"),e)}return l});(0,a.useEffect)(()=>{if(u)try{let e=window.localStorage.getItem(d);if(e){let t=JSON.parse(e);t&&"object"==typeof t&&"value"in t?v(t.value):v(s(e))}}catch(e){r.v.warn(r.u.LOCAL_STORAGE,"Error reading localStorage key “".concat(d,"”"),e)}},[d,s,u]);let b=(0,a.useCallback)(e=>{p.current=!0,v(t=>{let n="function"==typeof e?e(t):e;try{let e={value:n,tabId:f.current,timestamp:Date.now()},t=JSON.stringify(e);if(window.localStorage.setItem(d,t),c){let e=new StorageEvent("storage",{key:d,newValue:t,oldValue:window.localStorage.getItem(d),storageArea:window.localStorage,url:window.location.href});window.dispatchEvent(e)}}catch(e){r.v.warn(r.u.LOCAL_STORAGE,"Error writing localStorage key “".concat(d,"”"),e)}return n}),Promise.resolve().then(()=>{p.current=!1})},[d,c]),y=(0,a.useCallback)(()=>{window.localStorage.removeItem(d),v(l)},[d,l]);return(0,a.useEffect)(()=>{if(!c)return;let e=e=>{if(e.key===d&&e.newValue&&!p.current)try{let t=JSON.parse(e.newValue);if(t&&"object"==typeof t&&"value"in t&&"tabId"in t){if(t.tabId===f.current)return;v(t.value)}else v(s(e.newValue))}catch(e){r.v.warn(r.u.LOCAL_STORAGE,"Error handling storage event for “".concat(d,"”"),e)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[d,c,s]),[g,b,y]}function o(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return i({key:e,defaultValue:t,deserialize:e=>void 0===e?t:JSON.parse(e),getInitialValueInEffect:!1,sync:n})}}}]);